<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Arc?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.SVGPath?>

<StackPane style="-fx-background-color: transparent;"
           xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="com.iti.crg.client.controllers.Game_invitationController">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <VBox alignment="TOP_CENTER" maxHeight="-Infinity" maxWidth="-Infinity" prefWidth="380" spacing="0" styleClass="invite-card" stylesheets="@game_invitation.css">

        <HBox alignment="CENTER" styleClass="card-header">
            <Label text="GAME REQUEST" styleClass="header-text"/>
        </HBox>

        <VBox alignment="CENTER" spacing="20" VBox.vgrow="ALWAYS">
            <padding>
                <Insets top="25" bottom="30" left="30" right="30"/>
            </padding>

            <StackPane>
                <Circle radius="55" styleClass="avatar-bg"/>

                <SVGPath content="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
                         scaleX="3" scaleY="3" styleClass="avatar-icon"/>

                <Arc fx:id="timerArc" length="360" radiusX="55" radiusY="55" startAngle="90"
                     styleClass="timer-arc" type="OPEN" strokeLineCap="ROUND"/>

                <StackPane alignment="CENTER" maxHeight="-Infinity" maxWidth="-Infinity" translateY="45">
                    <padding><Insets bottom="0" left="0" right="0" top="0"/></padding>
                    <Circle radius="15" styleClass="timer-badge-bg"/>
                    <Label fx:id="timerLabel" text="30" styleClass="timer-text"/>
                </StackPane>
            </StackPane>

            <VBox alignment="CENTER" spacing="5">
                <Label text="Challenger Approaching!" styleClass="sub-label"/>
                <Label fx:id="invitationLabel" text="Ahmed_Ali wants to play" wrapText="true" textAlignment="CENTER" styleClass="username-label"/>
            </VBox>

            <HBox alignment="CENTER" spacing="15">
                <Button onAction="#onReject" text="Decline" styleClass="btn, btn-reject" prefWidth="120"/>
                <Button onAction="#onAccept" text="Accept" styleClass="btn, btn-accept" prefWidth="120"/>
            </HBox>
        </VBox>
    </VBox>
</StackPane>