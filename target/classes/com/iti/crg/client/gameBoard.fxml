<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.shape.Circle?>
<?import javafx.geometry.Insets?>

<StackPane fx:id="rootPane"
           xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml"
           stylesheets="@gameBoard.css"
           fx:controller="com.iti.crg.client.controllers.TicTacToeController">

    <BorderPane styleClass="main-layout">
        <top>
            <HBox alignment="CENTER_LEFT" styleClass="top-bar" spacing="15">
                <Button onAction="#onExit" text="â†" styleClass="back-btn"/>
                <Label text="Tic Tac Toe" styleClass="top-title"/>
                <Pane HBox.hgrow="ALWAYS"/>

                <HBox fx:id="recordingIndicator" alignment="CENTER" spacing="6" styleClass="rec-badge" visible="false">
                    <Circle radius="4" styleClass="rec-dot"/>
                    <Label text="REC" styleClass="rec-text"/>
                </HBox>
            </HBox>
        </top>

        <center>
            <VBox alignment="CENTER" spacing="25">
                <padding>
                    <Insets top="10" right="20" bottom="30" left="20"/>
                </padding>

                <HBox alignment="CENTER" spacing="20">
                    <HBox spacing="15" alignment="CENTER" styleClass="score-card">
                        <VBox alignment="CENTER" styleClass="player-box, active-turn">
                            <Label fx:id="playerNameLabel" text="You" styleClass="score-name"/>
                            <Label fx:id="playerScoreLabel" text="0" styleClass="score-val, score-x"/>
                        </VBox>

                        <Separator orientation="VERTICAL" styleClass="score-separator"/>

                        <VBox alignment="CENTER" styleClass="player-box">
                            <Label fx:id="opponentNameLabel" text="Opponent" styleClass="score-name"/>
                            <Label fx:id="opponentScoreLabel" text="0" styleClass="score-val, score-o"/>
                        </VBox>
                    </HBox>
                </HBox>

                <Label fx:id="turnLabel" text="Your Turn" styleClass="turn-label"/>

                <StackPane styleClass="board-bg">
                    <GridPane fx:id="boardGrid" alignment="CENTER" hgap="10" vgap="10">
                        <Button fx:id="b0" GridPane.rowIndex="0" GridPane.columnIndex="0" onAction="#handleMove" styleClass="cell"/>
                        <Button fx:id="b1" GridPane.rowIndex="0" GridPane.columnIndex="1" onAction="#handleMove" styleClass="cell"/>
                        <Button fx:id="b2" GridPane.rowIndex="0" GridPane.columnIndex="2" onAction="#handleMove" styleClass="cell"/>

                        <Button fx:id="b3" GridPane.rowIndex="1" GridPane.columnIndex="0" onAction="#handleMove" styleClass="cell"/>
                        <Button fx:id="b4" GridPane.rowIndex="1" GridPane.columnIndex="1" onAction="#handleMove" styleClass="cell"/>
                        <Button fx:id="b5" GridPane.rowIndex="1" GridPane.columnIndex="2" onAction="#handleMove" styleClass="cell"/>

                        <Button fx:id="b6" GridPane.rowIndex="2" GridPane.columnIndex="0" onAction="#handleMove" styleClass="cell"/>
                        <Button fx:id="b7" GridPane.rowIndex="2" GridPane.columnIndex="1" onAction="#handleMove" styleClass="cell"/>
                        <Button fx:id="b8" GridPane.rowIndex="2" GridPane.columnIndex="2" onAction="#handleMove" styleClass="cell"/>
                    </GridPane>
                </StackPane>

                <Button onAction="#onExit" text="Leave Match" styleClass="exit-btn"/>
            </VBox>
        </center>
    </BorderPane>

</StackPane>